Initial rought version of the demo with fixes
